üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: No module named 'shared.models'
2026-01-01 08:15:09,951 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:15:09,951 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named 'shared.models'
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: No module named 'shared.models'
2026-01-01 08:15:11,074 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:15:11,074 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named 'shared.models'
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: No module named 'shared.models'
2026-01-01 08:15:12,057 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:15:12,057 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named 'shared.models'
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: No module named 'shared.models'
2026-01-01 08:15:13,214 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:15:13,215 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named 'shared.models'
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: No module named 'shared.models'
2026-01-01 08:15:17,108 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:15:17,108 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named 'shared.models'
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: No module named 'shared.models'
2026-01-01 08:15:19,562 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:15:19,562 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named 'shared.models'
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: No module named 'shared.models'
2026-01-01 08:15:23,543 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:15:23,543 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named 'shared.models'
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: No module named 'shared.models'
2026-01-01 08:15:30,836 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:15:30,836 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named 'shared.models'
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: No module named 'shared.models'
2026-01-01 08:15:44,456 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:15:44,456 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named 'shared.models'
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: No module named 'shared.models'
2026-01-01 08:16:12,841 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:16:12,841 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named 'shared.models'
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: No module named 'shared.models'
2026-01-01 08:17:08,966 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:17:08,966 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
ModuleNotFoundError: No module named 'shared.models'
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 0 tables: 
2026-01-01 08:18:14,040 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:18:14,040 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 722, in configure_handler
    formatter = self.config['formatters'][formatter]
                ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 336, in __getitem__
    value = dict.__getitem__(self, key)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 573, in configure
    handler = self.configure_handler(handlers[name])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 724, in configure_handler
    raise ValueError('Unable to set formatter '
ValueError: Unable to set formatter 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 10, in <module>
    from shared.logging.structured_logging import setup_structured_logging, get_logger
  File "/app/shared/logging/structured_logging.py", line 394, in <module>
    setup_structured_logging(
  File "/app/shared/logging/structured_logging.py", line 281, in setup_structured_logging
    logging.config.dictConfig(logging_config)
  File "/usr/local/lib/python3.11/logging/config.py", line 823, in dictConfig
    dictConfigClass(config).configure()
  File "/usr/local/lib/python3.11/logging/config.py", line 580, in configure
    raise ValueError('Unable to configure handler '
ValueError: Unable to configure handler 'console'
WARNING:  WatchFiles detected changes in 'shared/models/user.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 722, in configure_handler
    formatter = self.config['formatters'][formatter]
                ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 336, in __getitem__
    value = dict.__getitem__(self, key)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 573, in configure
    handler = self.configure_handler(handlers[name])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 724, in configure_handler
    raise ValueError('Unable to set formatter '
ValueError: Unable to set formatter 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 10, in <module>
    from shared.logging.structured_logging import setup_structured_logging, get_logger
  File "/app/shared/logging/structured_logging.py", line 394, in <module>
    setup_structured_logging(
  File "/app/shared/logging/structured_logging.py", line 281, in setup_structured_logging
    logging.config.dictConfig(logging_config)
  File "/usr/local/lib/python3.11/logging/config.py", line 823, in dictConfig
    dictConfigClass(config).configure()
  File "/usr/local/lib/python3.11/logging/config.py", line 580, in configure
    raise ValueError('Unable to configure handler '
ValueError: Unable to configure handler 'console'
WARNING:  WatchFiles detected changes in 'shared/models/rbac.py'. Reloading...
Process SpawnProcess-3:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 722, in configure_handler
    formatter = self.config['formatters'][formatter]
                ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 336, in __getitem__
    value = dict.__getitem__(self, key)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 573, in configure
    handler = self.configure_handler(handlers[name])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 724, in configure_handler
    raise ValueError('Unable to set formatter '
ValueError: Unable to set formatter 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 10, in <module>
    from shared.logging.structured_logging import setup_structured_logging, get_logger
  File "/app/shared/logging/structured_logging.py", line 394, in <module>
    setup_structured_logging(
  File "/app/shared/logging/structured_logging.py", line 281, in setup_structured_logging
    logging.config.dictConfig(logging_config)
  File "/usr/local/lib/python3.11/logging/config.py", line 823, in dictConfig
    dictConfigClass(config).configure()
  File "/usr/local/lib/python3.11/logging/config.py", line 580, in configure
    raise ValueError('Unable to configure handler '
ValueError: Unable to configure handler 'console'
WARNING:  WatchFiles detected changes in 'shared/models/agent.py'. Reloading...
Process SpawnProcess-4:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 722, in configure_handler
    formatter = self.config['formatters'][formatter]
                ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 336, in __getitem__
    value = dict.__getitem__(self, key)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 573, in configure
    handler = self.configure_handler(handlers[name])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 724, in configure_handler
    raise ValueError('Unable to set formatter '
ValueError: Unable to set formatter 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 10, in <module>
    from shared.logging.structured_logging import setup_structured_logging, get_logger
  File "/app/shared/logging/structured_logging.py", line 394, in <module>
    setup_structured_logging(
  File "/app/shared/logging/structured_logging.py", line 281, in setup_structured_logging
    logging.config.dictConfig(logging_config)
  File "/usr/local/lib/python3.11/logging/config.py", line 823, in dictConfig
    dictConfigClass(config).configure()
  File "/usr/local/lib/python3.11/logging/config.py", line 580, in configure
    raise ValueError('Unable to configure handler '
ValueError: Unable to configure handler 'console'
WARNING:  WatchFiles detected changes in 'shared/models/workflow.py'. Reloading...
Process SpawnProcess-5:
WARNING:  WatchFiles detected changes in 'shared/models/workflow.py'. Reloading...
Process SpawnProcess-6:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 722, in configure_handler
    formatter = self.config['formatters'][formatter]
                ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 336, in __getitem__
    value = dict.__getitem__(self, key)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 573, in configure
    handler = self.configure_handler(handlers[name])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 724, in configure_handler
    raise ValueError('Unable to set formatter '
ValueError: Unable to set formatter 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 10, in <module>
    from shared.logging.structured_logging import setup_structured_logging, get_logger
  File "/app/shared/logging/structured_logging.py", line 394, in <module>
    setup_structured_logging(
  File "/app/shared/logging/structured_logging.py", line 281, in setup_structured_logging
    logging.config.dictConfig(logging_config)
  File "/usr/local/lib/python3.11/logging/config.py", line 823, in dictConfig
    dictConfigClass(config).configure()
  File "/usr/local/lib/python3.11/logging/config.py", line 580, in configure
    raise ValueError('Unable to configure handler '
ValueError: Unable to configure handler 'console'
WARNING:  WatchFiles detected changes in 'shared/models/audit.py'. Reloading...
Process SpawnProcess-7:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 722, in configure_handler
    formatter = self.config['formatters'][formatter]
                ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 336, in __getitem__
    value = dict.__getitem__(self, key)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 573, in configure
    handler = self.configure_handler(handlers[name])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 724, in configure_handler
    raise ValueError('Unable to set formatter '
ValueError: Unable to set formatter 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 10, in <module>
    from shared.logging.structured_logging import setup_structured_logging, get_logger
  File "/app/shared/logging/structured_logging.py", line 394, in <module>
    setup_structured_logging(
  File "/app/shared/logging/structured_logging.py", line 281, in setup_structured_logging
    logging.config.dictConfig(logging_config)
  File "/usr/local/lib/python3.11/logging/config.py", line 823, in dictConfig
    dictConfigClass(config).configure()
  File "/usr/local/lib/python3.11/logging/config.py", line 580, in configure
    raise ValueError('Unable to configure handler '
ValueError: Unable to configure handler 'console'
WARNING:  WatchFiles detected changes in 'shared/models/tenant.py'. Reloading...
Process SpawnProcess-8:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 722, in configure_handler
    formatter = self.config['formatters'][formatter]
                ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 336, in __getitem__
    value = dict.__getitem__(self, key)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 573, in configure
    handler = self.configure_handler(handlers[name])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 724, in configure_handler
    raise ValueError('Unable to set formatter '
ValueError: Unable to set formatter 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 10, in <module>
    from shared.logging.structured_logging import setup_structured_logging, get_logger
  File "/app/shared/logging/structured_logging.py", line 394, in <module>
    setup_structured_logging(
  File "/app/shared/logging/structured_logging.py", line 281, in setup_structured_logging
    logging.config.dictConfig(logging_config)
  File "/usr/local/lib/python3.11/logging/config.py", line 823, in dictConfig
    dictConfigClass(config).configure()
  File "/usr/local/lib/python3.11/logging/config.py", line 580, in configure
    raise ValueError('Unable to configure handler '
ValueError: Unable to configure handler 'console'
WARNING:  WatchFiles detected changes in 'shared/models/__init__.py'. Reloading...
Process SpawnProcess-9:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 722, in configure_handler
    formatter = self.config['formatters'][formatter]
                ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 336, in __getitem__
    value = dict.__getitem__(self, key)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 573, in configure
    handler = self.configure_handler(handlers[name])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 724, in configure_handler
    raise ValueError('Unable to set formatter '
ValueError: Unable to set formatter 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 10, in <module>
    from shared.logging.structured_logging import setup_structured_logging, get_logger
  File "/app/shared/logging/structured_logging.py", line 394, in <module>
    setup_structured_logging(
  File "/app/shared/logging/structured_logging.py", line 281, in setup_structured_logging
    logging.config.dictConfig(logging_config)
  File "/usr/local/lib/python3.11/logging/config.py", line 823, in dictConfig
    dictConfigClass(config).configure()
  File "/usr/local/lib/python3.11/logging/config.py", line 580, in configure
    raise ValueError('Unable to configure handler '
ValueError: Unable to configure handler 'console'
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-01-01 08:21:37,396 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:21:37,397 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 557, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
asyncpg.exceptions.DatatypeMismatchError: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 126, in create_tables
    await conn.run_sync(Base.metadata.create_all)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py", line 886, in run_sync
    return await greenlet_spawn(fn, self._proxied, *arg, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
    bind._run_ddl_visitor(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2447, in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 919, in visit_metadata
    self.traverse_single(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 957, in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 315, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 181, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1528, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-01-01 08:21:38,703 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:21:38,703 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 557, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
asyncpg.exceptions.DatatypeMismatchError: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 126, in create_tables
    await conn.run_sync(Base.metadata.create_all)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py", line 886, in run_sync
    return await greenlet_spawn(fn, self._proxied, *arg, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
    bind._run_ddl_visitor(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2447, in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 919, in visit_metadata
    self.traverse_single(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 957, in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 315, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 181, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1528, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-01-01 08:21:42,233 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:21:42,233 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 557, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
asyncpg.exceptions.DatatypeMismatchError: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 126, in create_tables
    await conn.run_sync(Base.metadata.create_all)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py", line 886, in run_sync
    return await greenlet_spawn(fn, self._proxied, *arg, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
    bind._run_ddl_visitor(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2447, in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 919, in visit_metadata
    self.traverse_single(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 957, in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 315, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 181, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1528, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-01-01 08:21:43,670 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:21:43,670 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 557, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
asyncpg.exceptions.DatatypeMismatchError: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 126, in create_tables
    await conn.run_sync(Base.metadata.create_all)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py", line 886, in run_sync
    return await greenlet_spawn(fn, self._proxied, *arg, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
    bind._run_ddl_visitor(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2447, in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 919, in visit_metadata
    self.traverse_single(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 957, in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 315, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 181, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1528, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-01-01 08:21:45,750 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:21:45,750 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 557, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
asyncpg.exceptions.DatatypeMismatchError: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 126, in create_tables
    await conn.run_sync(Base.metadata.create_all)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py", line 886, in run_sync
    return await greenlet_spawn(fn, self._proxied, *arg, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
    bind._run_ddl_visitor(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2447, in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 919, in visit_metadata
    self.traverse_single(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 957, in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 315, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 181, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1528, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-01-01 08:21:48,950 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:21:48,950 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 557, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
asyncpg.exceptions.DatatypeMismatchError: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 126, in create_tables
    await conn.run_sync(Base.metadata.create_all)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py", line 886, in run_sync
    return await greenlet_spawn(fn, self._proxied, *arg, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
    bind._run_ddl_visitor(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2447, in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 919, in visit_metadata
    self.traverse_single(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 957, in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 315, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 181, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1528, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-01-01 08:21:53,291 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:21:53,291 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 557, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
asyncpg.exceptions.DatatypeMismatchError: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 126, in create_tables
    await conn.run_sync(Base.metadata.create_all)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py", line 886, in run_sync
    return await greenlet_spawn(fn, self._proxied, *arg, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
    bind._run_ddl_visitor(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2447, in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 919, in visit_metadata
    self.traverse_single(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 957, in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 315, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 181, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1528, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-01-01 08:22:00,626 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:22:00,626 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 557, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
asyncpg.exceptions.DatatypeMismatchError: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 126, in create_tables
    await conn.run_sync(Base.metadata.create_all)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py", line 886, in run_sync
    return await greenlet_spawn(fn, self._proxied, *arg, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
    bind._run_ddl_visitor(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2447, in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 919, in visit_metadata
    self.traverse_single(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 957, in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 315, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 181, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1528, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-01-01 08:22:16,479 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:22:16,479 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 557, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
asyncpg.exceptions.DatatypeMismatchError: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 126, in create_tables
    await conn.run_sync(Base.metadata.create_all)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py", line 886, in run_sync
    return await greenlet_spawn(fn, self._proxied, *arg, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
    bind._run_ddl_visitor(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2447, in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 919, in visit_metadata
    self.traverse_single(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 957, in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 315, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 181, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1528, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-01-01 08:22:43,077 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:22:43,077 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 557, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
asyncpg.exceptions.DatatypeMismatchError: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 126, in create_tables
    await conn.run_sync(Base.metadata.create_all)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py", line 886, in run_sync
    return await greenlet_spawn(fn, self._proxied, *arg, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
    bind._run_ddl_visitor(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2447, in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 919, in visit_metadata
    self.traverse_single(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 957, in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 315, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 181, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1528, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
2026-01-01 08:23:39,601 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:23:39,601 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 557, in _prepare_and_execute
    self._rows = await prepared_stmt.fetch(*parameters)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 241, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/asyncpg/prepared_stmt.py", line 230, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 207, in bind_execute
asyncpg.exceptions.DatatypeMismatchError: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 126, in create_tables
    await conn.run_sync(Base.metadata.create_all)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/ext/asyncio/engine.py", line 886, in run_sync
    return await greenlet_spawn(fn, self._proxied, *arg, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/schema.py", line 5828, in create_all
    bind._run_ddl_visitor(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2447, in _run_ddl_visitor
    visitorcallable(self.dialect, self, **kwargs).traverse_single(element)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 919, in visit_metadata
    self.traverse_single(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/visitors.py", line 671, in traverse_single
    return meth(obj, **kw)
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 957, in visit_table
    )._invoke_with(self.connection)
      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 315, in _invoke_with
    return bind.execute(self)
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/ddl.py", line 181, in _execute_on_connection
    return connection._execute_ddl(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1528, in _execute_ddl
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1848, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1988, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2343, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1969, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 922, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 591, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 125, in await_only
    return current.driver.switch(awaitable)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 185, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 569, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 520, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 808, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.DatatypeMismatchError'>: foreign key constraint "audit_logs_tenant_id_fkey" cannot be implemented
DETAIL:  Key columns "tenant_id" and "id" are of incompatible types: character varying and uuid.
[SQL: 
CREATE TABLE audit_logs (
	id UUID NOT NULL, 
	tenant_id VARCHAR NOT NULL, 
	event_type VARCHAR(50) NOT NULL, 
	resource_type VARCHAR(100) NOT NULL, 
	resource_id VARCHAR, 
	user_id UUID, 
	session_id VARCHAR, 
	ip_address VARCHAR(45), 
	user_agent TEXT, 
	old_values JSONB DEFAULT '{}'::jsonb, 
	new_values JSONB DEFAULT '{}'::jsonb, 
	metadata JSONB DEFAULT '{}'::jsonb, 
	success BOOLEAN NOT NULL, 
	error_message TEXT, 
	timestamp TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL, 
	PRIMARY KEY (id), 
	FOREIGN KEY(tenant_id) REFERENCES tenants (id), 
	FOREIGN KEY(user_id) REFERENCES users (id)
)

]
(Background on this error at: https://sqlalche.me/e/20/f405)
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 11 tables: agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 08:24:27,772 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:24:27,772 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 722, in configure_handler
    formatter = self.config['formatters'][formatter]
                ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 336, in __getitem__
    value = dict.__getitem__(self, key)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 573, in configure
    handler = self.configure_handler(handlers[name])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 724, in configure_handler
    raise ValueError('Unable to set formatter '
ValueError: Unable to set formatter 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 10, in <module>
    from shared.logging.structured_logging import setup_structured_logging, get_logger
  File "/app/shared/logging/structured_logging.py", line 394, in <module>
    setup_structured_logging(
  File "/app/shared/logging/structured_logging.py", line 281, in setup_structured_logging
    logging.config.dictConfig(logging_config)
  File "/usr/local/lib/python3.11/logging/config.py", line 823, in dictConfig
    dictConfigClass(config).configure()
  File "/usr/local/lib/python3.11/logging/config.py", line 580, in configure
    raise ValueError('Unable to configure handler '
ValueError: Unable to configure handler 'console'
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 722, in configure_handler
    formatter = self.config['formatters'][formatter]
                ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 336, in __getitem__
    value = dict.__getitem__(self, key)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 573, in configure
    handler = self.configure_handler(handlers[name])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 724, in configure_handler
    raise ValueError('Unable to set formatter '
ValueError: Unable to set formatter 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 10, in <module>
    from shared.logging.structured_logging import setup_structured_logging, get_logger
  File "/app/shared/logging/structured_logging.py", line 394, in <module>
    setup_structured_logging(
  File "/app/shared/logging/structured_logging.py", line 281, in setup_structured_logging
    logging.config.dictConfig(logging_config)
  File "/usr/local/lib/python3.11/logging/config.py", line 823, in dictConfig
    dictConfigClass(config).configure()
  File "/usr/local/lib/python3.11/logging/config.py", line 580, in configure
    raise ValueError('Unable to configure handler '
ValueError: Unable to configure handler 'console'
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
Process SpawnProcess-3:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 722, in configure_handler
    formatter = self.config['formatters'][formatter]
                ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 336, in __getitem__
    value = dict.__getitem__(self, key)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 573, in configure
    handler = self.configure_handler(handlers[name])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 724, in configure_handler
    raise ValueError('Unable to set formatter '
ValueError: Unable to set formatter 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 11, in <module>
    from shared.logging.structured_logging import setup_structured_logging, get_logger
  File "/app/shared/logging/structured_logging.py", line 394, in <module>
    setup_structured_logging(
  File "/app/shared/logging/structured_logging.py", line 281, in setup_structured_logging
    logging.config.dictConfig(logging_config)
  File "/usr/local/lib/python3.11/logging/config.py", line 823, in dictConfig
    dictConfigClass(config).configure()
  File "/usr/local/lib/python3.11/logging/config.py", line 580, in configure
    raise ValueError('Unable to configure handler '
ValueError: Unable to configure handler 'console'
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 11 tables: agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 08:25:22,745 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:25:22,746 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 722, in configure_handler
    formatter = self.config['formatters'][formatter]
                ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 336, in __getitem__
    value = dict.__getitem__(self, key)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/logging/config.py", line 573, in configure
    handler = self.configure_handler(handlers[name])
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/logging/config.py", line 724, in configure_handler
    raise ValueError('Unable to set formatter '
ValueError: Unable to set formatter 'console'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 11, in <module>
    from shared.logging.structured_logging import setup_structured_logging, get_logger
  File "/app/shared/logging/structured_logging.py", line 394, in <module>
    setup_structured_logging(
  File "/app/shared/logging/structured_logging.py", line 281, in setup_structured_logging
    logging.config.dictConfig(logging_config)
  File "/usr/local/lib/python3.11/logging/config.py", line 823, in dictConfig
    dictConfigClass(config).configure()
  File "/usr/local/lib/python3.11/logging/config.py", line 580, in configure
    raise ValueError('Unable to configure handler '
ValueError: Unable to configure handler 'console'
WARNING:  WatchFiles detected changes in 'shared/logging/structured_logging.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 9, in <module>
    from .compliance import router as compliance_router
  File "/app/shared/api/compliance.py", line 10, in <module>
    from ..models.tenant import TenantContext
ImportError: cannot import name 'TenantContext' from 'shared.models.tenant' (/app/shared/models/tenant.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 11 tables: agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 08:25:50,814 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:25:50,815 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 9, in <module>
    from .compliance import router as compliance_router
  File "/app/shared/api/compliance.py", line 10, in <module>
    from ..models.tenant import TenantContext
ImportError: cannot import name 'TenantContext' from 'shared.models.tenant' (/app/shared/models/tenant.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 11 tables: agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 08:37:18,732 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:37:18,732 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 9, in <module>
    from .compliance import router as compliance_router
  File "/app/shared/api/compliance.py", line 10, in <module>
    from ..models.tenant import TenantContext
ImportError: cannot import name 'TenantContext' from 'shared.models.tenant' (/app/shared/models/tenant.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 11 tables: agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 08:38:42,680 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:38:42,680 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 9, in <module>
    from .compliance import router as compliance_router
  File "/app/shared/api/compliance.py", line 10, in <module>
    from ..models.tenant import TenantContext
ImportError: cannot import name 'TenantContext' from 'shared.models.tenant' (/app/shared/models/tenant.py)
WARNING:  WatchFiles detected changes in 'shared/api/__init__.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 4, in <module>
    from .tenant import TenantService, TenantAdminService
  File "/app/shared/services/tenant.py", line 12, in <module>
    from ..models.tenant import Tenant, TenantInvitation, TenantStatus, TenantPlan, TenantContext
ImportError: cannot import name 'TenantInvitation' from 'shared.models.tenant' (/app/shared/models/tenant.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 11 tables: agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 08:39:10,094 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:39:10,094 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 4, in <module>
    from .tenant import TenantService, TenantAdminService
  File "/app/shared/services/tenant.py", line 12, in <module>
    from ..models.tenant import Tenant, TenantInvitation, TenantStatus, TenantPlan, TenantContext
ImportError: cannot import name 'TenantInvitation' from 'shared.models.tenant' (/app/shared/models/tenant.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 11 tables: agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 08:41:36,854 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:41:36,855 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 4, in <module>
    from .tenant import TenantService, TenantAdminService
  File "/app/shared/services/tenant.py", line 12, in <module>
    from ..models.tenant import Tenant, TenantInvitation, TenantStatus, TenantPlan, TenantContext
ImportError: cannot import name 'TenantInvitation' from 'shared.models.tenant' (/app/shared/models/tenant.py)
WARNING:  WatchFiles detected changes in 'shared/context/__init__.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 4, in <module>
    from .tenant import TenantService, TenantAdminService
  File "/app/shared/services/tenant.py", line 12, in <module>
    from ..models.tenant import Tenant, TenantInvitation, TenantStatus, TenantPlan, TenantContext
ImportError: cannot import name 'TenantInvitation' from 'shared.models.tenant' (/app/shared/models/tenant.py)
WARNING:  WatchFiles detected changes in 'shared/context/default_tenant.py'. Reloading...
Process SpawnProcess-3:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 4, in <module>
    from .tenant import TenantService, TenantAdminService
  File "/app/shared/services/tenant.py", line 12, in <module>
    from ..models.tenant import Tenant, TenantInvitation, TenantStatus, TenantPlan, TenantContext
ImportError: cannot import name 'TenantInvitation' from 'shared.models.tenant' (/app/shared/models/tenant.py)
WARNING:  WatchFiles detected changes in 'shared/api/agent.py'. Reloading...
Process SpawnProcess-4:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 4, in <module>
    from .tenant import TenantService, TenantAdminService
  File "/app/shared/services/tenant.py", line 12, in <module>
    from ..models.tenant import Tenant, TenantInvitation, TenantStatus, TenantPlan, TenantContext
ImportError: cannot import name 'TenantInvitation' from 'shared.models.tenant' (/app/shared/models/tenant.py)
WARNING:  WatchFiles detected changes in 'shared/middleware/tenant.py'. Reloading...
Process SpawnProcess-5:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 4, in <module>
    from .tenant import TenantService, TenantAdminService
  File "/app/shared/services/tenant.py", line 12, in <module>
    from ..models.tenant import Tenant, TenantInvitation, TenantStatus, TenantPlan, TenantContext
ImportError: cannot import name 'TenantInvitation' from 'shared.models.tenant' (/app/shared/models/tenant.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 11 tables: agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 08:45:34,640 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:45:34,640 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 4, in <module>
    from .tenant import TenantService, TenantAdminService
  File "/app/shared/services/tenant.py", line 12, in <module>
    from ..models.tenant import Tenant, TenantInvitation, TenantStatus, TenantPlan, TenantContext
ImportError: cannot import name 'TenantInvitation' from 'shared.models.tenant' (/app/shared/models/tenant.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 11 tables: agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 08:46:23,227 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:46:23,227 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 4, in <module>
    from .tenant import TenantService, TenantAdminService
  File "/app/shared/services/tenant.py", line 12, in <module>
    from ..models.tenant import Tenant, TenantInvitation, TenantStatus, TenantPlan, TenantContext
ImportError: cannot import name 'TenantInvitation' from 'shared.models.tenant' (/app/shared/models/tenant.py)
WARNING:  WatchFiles detected changes in 'shared/models/__init__.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 4, in <module>
    from .tenant import TenantService, TenantAdminService
  File "/app/shared/services/tenant.py", line 12, in <module>
    from ..models.tenant import Tenant, TenantInvitation, TenantStatus, TenantPlan, TenantContext
ImportError: cannot import name 'TenantInvitation' from 'shared.models.tenant' (/app/shared/models/tenant.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 11 tables: agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 08:46:40,567 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 08:46:40,568 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 4, in <module>
    from .tenant import TenantService, TenantAdminService
  File "/app/shared/services/tenant.py", line 12, in <module>
    from ..models.tenant import Tenant, TenantInvitation, TenantStatus, TenantPlan, TenantContext
ImportError: cannot import name 'TenantInvitation' from 'shared.models.tenant' (/app/shared/models/tenant.py)
WARNING:  WatchFiles detected changes in 'shared/context/default_tenant.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 4, in <module>
    from .tenant import TenantService, TenantAdminService
  File "/app/shared/services/tenant.py", line 12, in <module>
    from ..models.tenant import Tenant, TenantInvitation, TenantStatus, TenantPlan, TenantContext
ImportError: cannot import name 'TenantInvitation' from 'shared.models.tenant' (/app/shared/models/tenant.py)
WARNING:  WatchFiles detected changes in 'shared/models/tenant.py'. Reloading...
Process SpawnProcess-3:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 6, in <module>
    from .agent import AgentService, AgentDeploymentService, AgentExecutionService, AgentMemoryService
  File "/app/shared/services/agent.py", line 9, in <module>
    from ..models.agent import Agent, AgentDeployment, AgentExecution, AgentMemory, AgentType, AgentStatus
ImportError: cannot import name 'AgentDeployment' from 'shared.models.agent' (/app/shared/models/agent.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 11 tables: agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 09:11:39,085 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:11:39,085 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 6, in <module>
    from .agent import AgentService, AgentDeploymentService, AgentExecutionService, AgentMemoryService
  File "/app/shared/services/agent.py", line 9, in <module>
    from ..models.agent import Agent, AgentDeployment, AgentExecution, AgentMemory, AgentType, AgentStatus
ImportError: cannot import name 'AgentDeployment' from 'shared.models.agent' (/app/shared/models/agent.py)
WARNING:  WatchFiles detected changes in 'shared/models/agent.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 20, in <module>
    from ..services.auth import AuthService
  File "/app/shared/services/__init__.py", line 3, in <module>
    from .base import BaseService
  File "/app/shared/services/base.py", line 10, in <module>
    from shared.models.base import TenantEntity, SystemEntity
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 52, in <module>
    class AgentDeployment(TenantEntity):
  File "/app/shared/models/agent.py", line 61, in AgentDeployment
    deployed_at: Mapped[Optional[datetime]] = mapped_column(DateTime(timezone=True), nullable=True)
                                 ^^^^^^^^
NameError: name 'datetime' is not defined
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: name 'datetime' is not defined
2026-01-01 09:12:15,866 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:12:15,866 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 52, in <module>
    class AgentDeployment(TenantEntity):
  File "/app/shared/models/agent.py", line 61, in AgentDeployment
    deployed_at: Mapped[Optional[datetime]] = mapped_column(DateTime(timezone=True), nullable=True)
                                 ^^^^^^^^
NameError: name 'datetime' is not defined. Did you mean: 'DateTime'?
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: name 'datetime' is not defined
2026-01-01 09:12:17,261 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:12:17,261 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 52, in <module>
    class AgentDeployment(TenantEntity):
  File "/app/shared/models/agent.py", line 61, in AgentDeployment
    deployed_at: Mapped[Optional[datetime]] = mapped_column(DateTime(timezone=True), nullable=True)
                                 ^^^^^^^^
NameError: name 'datetime' is not defined. Did you mean: 'DateTime'?
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: name 'datetime' is not defined
2026-01-01 09:12:18,489 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:12:18,489 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 52, in <module>
    class AgentDeployment(TenantEntity):
  File "/app/shared/models/agent.py", line 61, in AgentDeployment
    deployed_at: Mapped[Optional[datetime]] = mapped_column(DateTime(timezone=True), nullable=True)
                                 ^^^^^^^^
NameError: name 'datetime' is not defined. Did you mean: 'DateTime'?
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: name 'datetime' is not defined
2026-01-01 09:12:19,956 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:12:19,956 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 52, in <module>
    class AgentDeployment(TenantEntity):
  File "/app/shared/models/agent.py", line 61, in AgentDeployment
    deployed_at: Mapped[Optional[datetime]] = mapped_column(DateTime(timezone=True), nullable=True)
                                 ^^^^^^^^
NameError: name 'datetime' is not defined. Did you mean: 'DateTime'?
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: name 'datetime' is not defined
2026-01-01 09:12:21,757 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:12:21,757 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 52, in <module>
    class AgentDeployment(TenantEntity):
  File "/app/shared/models/agent.py", line 61, in AgentDeployment
    deployed_at: Mapped[Optional[datetime]] = mapped_column(DateTime(timezone=True), nullable=True)
                                 ^^^^^^^^
NameError: name 'datetime' is not defined. Did you mean: 'DateTime'?
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: name 'datetime' is not defined
2026-01-01 09:12:24,627 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:12:24,627 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 52, in <module>
    class AgentDeployment(TenantEntity):
  File "/app/shared/models/agent.py", line 61, in AgentDeployment
    deployed_at: Mapped[Optional[datetime]] = mapped_column(DateTime(timezone=True), nullable=True)
                                 ^^^^^^^^
NameError: name 'datetime' is not defined. Did you mean: 'DateTime'?
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: name 'datetime' is not defined
2026-01-01 09:12:30,987 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:12:30,987 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 52, in <module>
    class AgentDeployment(TenantEntity):
  File "/app/shared/models/agent.py", line 61, in AgentDeployment
    deployed_at: Mapped[Optional[datetime]] = mapped_column(DateTime(timezone=True), nullable=True)
                                 ^^^^^^^^
NameError: name 'datetime' is not defined. Did you mean: 'DateTime'?
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: name 'datetime' is not defined
2026-01-01 09:12:38,396 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:12:38,396 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 52, in <module>
    class AgentDeployment(TenantEntity):
  File "/app/shared/models/agent.py", line 61, in AgentDeployment
    deployed_at: Mapped[Optional[datetime]] = mapped_column(DateTime(timezone=True), nullable=True)
                                 ^^^^^^^^
NameError: name 'datetime' is not defined. Did you mean: 'DateTime'?
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: name 'datetime' is not defined
2026-01-01 09:12:52,310 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:12:52,310 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 52, in <module>
    class AgentDeployment(TenantEntity):
  File "/app/shared/models/agent.py", line 61, in AgentDeployment
    deployed_at: Mapped[Optional[datetime]] = mapped_column(DateTime(timezone=True), nullable=True)
                                 ^^^^^^^^
NameError: name 'datetime' is not defined. Did you mean: 'DateTime'?
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:13:15,298 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:13:15,298 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:13:16,666 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:13:16,666 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:13:18,180 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:13:18,181 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:13:19,531 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:13:19,531 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:13:21,347 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:13:21,347 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:13:24,259 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:13:24,259 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:13:28,553 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:13:28,553 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:13:37,913 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:13:37,913 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:13:51,602 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:13:51,602 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:14:20,272 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:14:20,272 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 6, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:15:16,592 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:15:16,592 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:16:21,880 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:16:21,880 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:17:26,930 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:17:26,930 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:18:32,107 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:18:32,107 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:18:34,907 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:18:34,907 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:18:36,254 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:18:36,255 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:18:37,565 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:18:37,565 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:18:39,183 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:18:39,183 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:18:41,081 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:18:41,082 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:18:43,707 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:18:43,708 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:18:47,926 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:18:47,926 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:18:57,442 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:18:57,442 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:19:07,176 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:19:07,176 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:19:08,497 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:19:08,497 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:19:09,682 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:19:09,682 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:19:10,997 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:19:10,997 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:19:12,792 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:19:12,792 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:19:15,437 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:19:15,437 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:19:19,810 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:19:19,810 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:19:29,118 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:19:29,118 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:19:43,149 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:19:43,149 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:20:11,832 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:20:11,832 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:21:08,097 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:21:08,097 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database initialization failed: Attribute name 'metadata' is reserved when using the Declarative API.
2026-01-01 09:22:13,320 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:22:13,320 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Traceback (most recent call last):
  File "/app/init_db.py", line 70, in <module>
    asyncio.run(main())
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/base_events.py", line 654, in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
  File "/app/init_db.py", line 65, in main
    await init_database(recreate=args.recreate)
  File "/app/init_db.py", line 32, in init_database
    await create_tables()
  File "/app/shared/database/connection.py", line 123, in create_tables
    import shared.models  # noqa
    ^^^^^^^^^^^^^^^^^^^^
  File "/app/shared/models/__init__.py", line 5, in <module>
    from shared.models.agent import Agent, AgentConfig
  File "/app/shared/models/agent.py", line 80, in <module>
    class AgentMemory(TenantEntity):
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_api.py", line 195, in __init__
    _as_declarative(reg, cls, dict_)
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 247, in _as_declarative
    return _MapperConfig.setup_mapping(registry, cls, dict_, None, {})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 328, in setup_mapping
    return _ClassScanMapperConfig(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 574, in __init__
    self._extract_mappable_attributes()
  File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/decl_base.py", line 1507, in _extract_mappable_attributes
    raise exc.InvalidRequestError(
sqlalchemy.exc.InvalidRequestError: Attribute name 'metadata' is reserved when using the Declarative API.
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 14 tables: agent_deployments, agent_executions, agent_memories, agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 09:22:43,442 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:22:43,442 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 21, in <module>
    from ..services.rbac import RBACService
  File "/app/shared/services/rbac.py", line 23, in <module>
    from ..models.rbac import Role, Permission, user_roles
ImportError: cannot import name 'user_roles' from 'shared.models.rbac' (/app/shared/models/rbac.py)
WARNING:  WatchFiles detected changes in 'scripts/init_database.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 21, in <module>
    from ..services.rbac import RBACService
  File "/app/shared/services/rbac.py", line 23, in <module>
    from ..models.rbac import Role, Permission, user_roles
ImportError: cannot import name 'user_roles' from 'shared.models.rbac' (/app/shared/models/rbac.py)
WARNING:  WatchFiles detected changes in 'scripts/init_database.py'. Reloading...
Process SpawnProcess-3:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 21, in <module>
    from ..services.rbac import RBACService
  File "/app/shared/services/rbac.py", line 23, in <module>
    from ..models.rbac import Role, Permission, user_roles
ImportError: cannot import name 'user_roles' from 'shared.models.rbac' (/app/shared/models/rbac.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 14 tables: agent_deployments, agent_executions, agent_memories, agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 09:23:47,575 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:23:47,575 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 21, in <module>
    from ..services.rbac import RBACService
  File "/app/shared/services/rbac.py", line 23, in <module>
    from ..models.rbac import Role, Permission, user_roles
ImportError: cannot import name 'user_roles' from 'shared.models.rbac' (/app/shared/models/rbac.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 14 tables: agent_deployments, agent_executions, agent_memories, agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 09:24:46,493 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:24:46,493 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 11, in <module>
    from .auth import router as auth_router
  File "/app/shared/api/auth.py", line 21, in <module>
    from ..services.rbac import RBACService
  File "/app/shared/services/rbac.py", line 23, in <module>
    from ..models.rbac import Role, Permission, user_roles
ImportError: cannot import name 'user_roles' from 'shared.models.rbac' (/app/shared/models/rbac.py)
WARNING:  WatchFiles detected changes in 'shared/services/rbac.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 24, in import_from_string
    raise exc from None
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 12, in <module>
    from .api_keys import router as api_keys_router
  File "/app/shared/api/api_keys.py", line 19, in <module>
    from ..services.api_key import APIKeyService
  File "/app/shared/services/api_key.py", line 17, in <module>
    from ..models.api_key import APIKey
ModuleNotFoundError: No module named 'shared.models.api_key'
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 14 tables: agent_deployments, agent_executions, agent_memories, agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 09:25:51,871 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:25:51,871 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 24, in import_from_string
    raise exc from None
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 12, in <module>
    from .api_keys import router as api_keys_router
  File "/app/shared/api/api_keys.py", line 19, in <module>
    from ..services.api_key import APIKeyService
  File "/app/shared/services/api_key.py", line 17, in <module>
    from ..models.api_key import APIKey
ModuleNotFoundError: No module named 'shared.models.api_key'
WARNING:  WatchFiles detected changes in 'shared/models/api_key.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 12, in <module>
    from .api_keys import router as api_keys_router
  File "/app/shared/api/api_keys.py", line 22, in <module>
    from ..models.api_key import (
ImportError: cannot import name 'APIKeyRequest' from 'shared.models.api_key' (/app/shared/models/api_key.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 14 tables: agent_deployments, agent_executions, agent_memories, agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 09:26:43,583 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:26:43,583 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 12, in <module>
    from .api_keys import router as api_keys_router
  File "/app/shared/api/api_keys.py", line 22, in <module>
    from ..models.api_key import (
ImportError: cannot import name 'APIKeyRequest' from 'shared.models.api_key' (/app/shared/models/api_key.py)
WARNING:  WatchFiles detected changes in 'shared/schemas/api_key.py'. Reloading...
WARNING:  WatchFiles detected changes in 'shared/schemas/api_key.py'. Reloading...
Process SpawnProcess-3:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 13, in <module>
    from .agent import router as agent_router
  File "/app/shared/api/agent.py", line 10, in <module>
    from ..middleware.tenant import (
  File "/app/shared/middleware/__init__.py", line 3, in <module>
    from .tenant import (
ImportError: cannot import name 'TenantContextMiddleware' from 'shared.middleware.tenant' (/app/shared/middleware/tenant.py)
WARNING:  WatchFiles detected changes in 'shared/api/api_keys.py'. Reloading...
Process SpawnProcess-4:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 13, in <module>
    from .agent import router as agent_router
  File "/app/shared/api/agent.py", line 10, in <module>
    from ..middleware.tenant import (
  File "/app/shared/middleware/__init__.py", line 3, in <module>
    from .tenant import (
ImportError: cannot import name 'TenantContextMiddleware' from 'shared.middleware.tenant' (/app/shared/middleware/tenant.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 14 tables: agent_deployments, agent_executions, agent_memories, agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 09:28:18,821 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:28:18,822 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 13, in <module>
    from .agent import router as agent_router
  File "/app/shared/api/agent.py", line 10, in <module>
    from ..middleware.tenant import (
  File "/app/shared/middleware/__init__.py", line 3, in <module>
    from .tenant import (
ImportError: cannot import name 'TenantContextMiddleware' from 'shared.middleware.tenant' (/app/shared/middleware/tenant.py)
WARNING:  WatchFiles detected changes in 'shared/middleware/tenant.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 13, in <module>
    from .agent import router as agent_router
  File "/app/shared/api/agent.py", line 157, in <module>
    @router.post("/", response_model=AgentResponse, status_code=status.HTTP_201_CREATED)
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 956, in decorator
    self.add_api_route(
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 895, in add_api_route
    route = route_class(
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 525, in __init__
    self.dependant = get_dependant(path=self.path_format, call=self.endpoint)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 268, in get_dependant
    sub_dependant = get_param_sub_dependant(
                    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 111, in get_param_sub_dependant
    return get_sub_dependant(
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 147, in get_sub_dependant
    sub_dependant = get_dependant(
                    ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 261, in get_dependant
    type_annotation, depends, param_field = analyze_param(
                                            ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 442, in analyze_param
    field = create_response_field(
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/utils.py", line 101, in create_response_field
    raise fastapi.exceptions.FastAPIError(
fastapi.exceptions.FastAPIError: Invalid args for response field! Hint: check that typing.Optional[starlette.requests.Request] is a valid Pydantic field type. If you are using a return type annotation that is not a valid Pydantic field (e.g. Union[Response, dict, None]) you can disable generating the response model from the type annotation with the path operation decorator parameter response_model=None. Read more: https://fastapi.tiangolo.com/tutorial/response-model/
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 14 tables: agent_deployments, agent_executions, agent_memories, agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 09:29:09,854 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:29:09,854 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 13, in <module>
    from .agent import router as agent_router
  File "/app/shared/api/agent.py", line 157, in <module>
    @router.post("/", response_model=AgentResponse, status_code=status.HTTP_201_CREATED)
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 956, in decorator
    self.add_api_route(
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 895, in add_api_route
    route = route_class(
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 525, in __init__
    self.dependant = get_dependant(path=self.path_format, call=self.endpoint)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 268, in get_dependant
    sub_dependant = get_param_sub_dependant(
                    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 111, in get_param_sub_dependant
    return get_sub_dependant(
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 147, in get_sub_dependant
    sub_dependant = get_dependant(
                    ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 261, in get_dependant
    type_annotation, depends, param_field = analyze_param(
                                            ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 442, in analyze_param
    field = create_response_field(
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/utils.py", line 101, in create_response_field
    raise fastapi.exceptions.FastAPIError(
fastapi.exceptions.FastAPIError: Invalid args for response field! Hint: check that typing.Optional[starlette.requests.Request] is a valid Pydantic field type. If you are using a return type annotation that is not a valid Pydantic field (e.g. Union[Response, dict, None]) you can disable generating the response model from the type annotation with the path operation decorator parameter response_model=None. Read more: https://fastapi.tiangolo.com/tutorial/response-model/
WARNING:  WatchFiles detected changes in 'shared/api/__init__.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 13, in <module>
    from .agent import router as agent_router
  File "/app/shared/api/agent.py", line 157, in <module>
    @router.post("/", response_model=AgentResponse, status_code=status.HTTP_201_CREATED)
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 956, in decorator
    self.add_api_route(
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 895, in add_api_route
    route = route_class(
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 525, in __init__
    self.dependant = get_dependant(path=self.path_format, call=self.endpoint)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 268, in get_dependant
    sub_dependant = get_param_sub_dependant(
                    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 111, in get_param_sub_dependant
    return get_sub_dependant(
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 147, in get_sub_dependant
    sub_dependant = get_dependant(
                    ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 261, in get_dependant
    type_annotation, depends, param_field = analyze_param(
                                            ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 442, in analyze_param
    field = create_response_field(
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/utils.py", line 101, in create_response_field
    raise fastapi.exceptions.FastAPIError(
fastapi.exceptions.FastAPIError: Invalid args for response field! Hint: check that typing.Optional[starlette.requests.Request] is a valid Pydantic field type. If you are using a return type annotation that is not a valid Pydantic field (e.g. Union[Response, dict, None]) you can disable generating the response model from the type annotation with the path operation decorator parameter response_model=None. Read more: https://fastapi.tiangolo.com/tutorial/response-model/
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 14 tables: agent_deployments, agent_executions, agent_memories, agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 09:31:10,644 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:31:10,645 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 13, in <module>
    from .agent import router as agent_router
  File "/app/shared/api/agent.py", line 157, in <module>
    @router.post("/", response_model=AgentResponse, status_code=status.HTTP_201_CREATED)
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 956, in decorator
    self.add_api_route(
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 895, in add_api_route
    route = route_class(
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 525, in __init__
    self.dependant = get_dependant(path=self.path_format, call=self.endpoint)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 268, in get_dependant
    sub_dependant = get_param_sub_dependant(
                    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 111, in get_param_sub_dependant
    return get_sub_dependant(
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 147, in get_sub_dependant
    sub_dependant = get_dependant(
                    ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 261, in get_dependant
    type_annotation, depends, param_field = analyze_param(
                                            ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 442, in analyze_param
    field = create_response_field(
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/utils.py", line 101, in create_response_field
    raise fastapi.exceptions.FastAPIError(
fastapi.exceptions.FastAPIError: Invalid args for response field! Hint: check that typing.Optional[starlette.requests.Request] is a valid Pydantic field type. If you are using a return type annotation that is not a valid Pydantic field (e.g. Union[Response, dict, None]) you can disable generating the response model from the type annotation with the path operation decorator parameter response_model=None. Read more: https://fastapi.tiangolo.com/tutorial/response-model/
WARNING:  WatchFiles detected changes in 'shared/middleware/tenant.py'. Reloading...
Process SpawnProcess-2:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 13, in <module>
    from .agent import router as agent_router
  File "/app/shared/api/agent.py", line 157, in <module>
    @router.post("/", response_model=AgentResponse, status_code=status.HTTP_201_CREATED)
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 956, in decorator
    self.add_api_route(
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 895, in add_api_route
    route = route_class(
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/routing.py", line 525, in __init__
    self.dependant = get_dependant(path=self.path_format, call=self.endpoint)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 268, in get_dependant
    sub_dependant = get_param_sub_dependant(
                    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 111, in get_param_sub_dependant
    return get_sub_dependant(
           ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 147, in get_sub_dependant
    sub_dependant = get_dependant(
                    ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 261, in get_dependant
    type_annotation, depends, param_field = analyze_param(
                                            ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 442, in analyze_param
    field = create_response_field(
            ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/fastapi/utils.py", line 101, in create_response_field
    raise fastapi.exceptions.FastAPIError(
fastapi.exceptions.FastAPIError: Invalid args for response field! Hint: check that typing.Optional[starlette.requests.Request] is a valid Pydantic field type. If you are using a return type annotation that is not a valid Pydantic field (e.g. Union[Response, dict, None]) you can disable generating the response model from the type annotation with the path operation decorator parameter response_model=None. Read more: https://fastapi.tiangolo.com/tutorial/response-model/
WARNING:  WatchFiles detected changes in 'shared/middleware/tenant.py'. Reloading...
Process SpawnProcess-3:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 14, in <module>
    from .agent_templates import router as agent_templates_router
  File "/app/shared/api/agent_templates.py", line 7, in <module>
    from ..services.agent_templates import AgentTemplateService
  File "/app/shared/services/agent_templates.py", line 5, in <module>
    from shared.models.agent import AgentTemplate, AgentType, LLMProvider, AgentConfig
ImportError: cannot import name 'AgentTemplate' from 'shared.models.agent' (/app/shared/models/agent.py)
WARNING:  WatchFiles detected changes in 'shared/api/__init__.py'. Reloading...
Process SpawnProcess-4:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 14, in <module>
    from .agent_templates import router as agent_templates_router
  File "/app/shared/api/agent_templates.py", line 7, in <module>
    from ..services.agent_templates import AgentTemplateService
  File "/app/shared/services/agent_templates.py", line 5, in <module>
    from shared.models.agent import AgentTemplate, AgentType, LLMProvider, AgentConfig
ImportError: cannot import name 'AgentTemplate' from 'shared.models.agent' (/app/shared/models/agent.py)
INFO:     Stopping reloader process [1]
üöÄ Starting AI Agent Framework Backend...
üèóÔ∏è  Environment: development
üêõ Debug mode: true
‚è≥ Waiting for PostgreSQL to be ready...
üì° Checking database connection: postgres@postgres:5432/ai_agent_framework
‚úÖ PostgreSQL is ready!
üîÑ Initializing database...
üìã Creating database tables if they don't exist...
Starting database initialization...
Creating database tables...
Database tables created successfully
Created 14 tables: agent_deployments, agent_executions, agent_memories, agents, audit_logs, permissions, role_permissions, roles, tenant_users, tenants, user_roles, users, workflow_executions, workflows
2026-01-01 09:35:05,290 INFO sqlalchemy.pool.impl.QueuePool Pool disposed. Pool size: 10  Connections in pool: 0 Current Overflow: -10 Current Checked out connections: 0
2026-01-01 09:35:05,290 INFO sqlalchemy.pool.impl.QueuePool Pool recreating
Database initialization completed successfully
‚úÖ Database initialization completed successfully
üéØ Starting application with command: python -m uvicorn main:app --host 0.0.0.0 --port 8000 --reload
INFO:     Will watch for changes in these directories: ['/app']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
Process SpawnProcess-1:
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 314, in _bootstrap
    self.run()
  File "/usr/local/lib/python3.11/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
    target(sockets=sockets)
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 62, in run
    return asyncio.run(self.serve(sockets=sockets))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 190, in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 69, in serve
    config.load()
  File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 458, in load
    self.loaded_app = import_from_string(self.app)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 21, in import_from_string
    module = importlib.import_module(module_str)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 940, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/app/main.py", line 12, in <module>
    from shared.api import api_router
  File "/app/shared/api/__init__.py", line 14, in <module>
    from .agent_templates import router as agent_templates_router
  File "/app/shared/api/agent_templates.py", line 7, in <module>
    from ..services.agent_templates import AgentTemplateService
  File "/app/shared/services/agent_templates.py", line 5, in <module>
    from shared.models.agent import AgentTemplate, AgentType, LLMProvider, AgentConfig
ImportError: cannot import name 'AgentTemplate' from 'shared.models.agent' (/app/shared/models/agent.py)
