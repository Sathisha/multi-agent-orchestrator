{
  "enabled": true,
  "name": "3rd Party Dependency Tracker",
  "description": "Monitors dependency files (requirements.txt, package.json, Dockerfile, etc.) for changes and maintains a comprehensive 3p-dependencies.md file with tabular listing of all dependencies, versions, usage locations, purposes, and EOL information",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      "requirements.txt",
      "package.json",
      "Dockerfile",
      "docker-compose.yml",
      "docker-compose.*.yml",
      "pyproject.toml",
      "poetry.lock",
      "yarn.lock",
      "package-lock.json",
      "Pipfile",
      "Pipfile.lock",
      "pom.xml",
      "build.gradle",
      "go.mod",
      "Cargo.toml"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "A dependency file has been modified. Please:\n\n1. First, check if a 3p-dependencies.md file exists in the project root. If it doesn't exist, create it with proper headers.\n\n2. Analyze the modified dependency file to identify any new, updated, or removed third-party libraries/frameworks.\n\n3. For each dependency, research and document:\n   - Package/library name\n   - Version (exact version if specified, or version range)\n   - File location where it's defined\n   - Purpose/reason for inclusion\n   - Expected End-of-Life (EOL) date if available from official sources\n   - License information if readily available\n\n4. Update the 3p-dependencies.md file with a comprehensive table containing all current dependencies across all dependency files in the project.\n\n5. Organize the table with columns: Name | Version | Location | Purpose | EOL Date | License | Notes\n\n6. Group dependencies by type (Python packages, Node.js packages, Docker images, etc.) for better organization.\n\n7. Include a timestamp of when the analysis was last updated.\n\nPlease ensure the documentation is thorough and helps with security, compliance, and maintenance planning."
  }
}